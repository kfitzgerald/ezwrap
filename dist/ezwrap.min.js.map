{"version":3,"sources":["ezwrap.min.js"],"names":["require","r","e","n","t","o","i","f","c","u","a","Error","code","p","exports","call","length","ezwrap","module","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Util","window","inspect","custom","EZWrap","obj","instance","Constructor","TypeError","_classCallCheck","this","raw","protoProps","staticProps","prototype","_createClass","value","depth","options","_this","attributeString","keys","attributes","map","concat","join","openTag","name","body","children","stylize","get","filter","getEmptyObject","find","closure","forEach","_ref","arguments","undefined","_ref$children","_ref$name","_ref$attributes","_ref$value","util"],"mappings":"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","file":"ezwrap.min.js","sourcesContent":["require=(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({\"ezwrap\":[function(require,module,exports){\n\"use strict\"; // browser shim util - not needed for browser, don't bloat\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nvar Util;\n\nif (typeof window === 'undefined') {\n  Util = require('util');\n} else {\n  Util = {\n    inspect: {\n      custom: '__customInspect'\n    }\n  };\n}\n/**\n * Wrapper for accessing parsed XML objects\n */\n\n\nvar EZWrap = /*#__PURE__*/function (_Util$inspect$custom) {\n  /**\n   * Creates a new wrapped instance of an parsed XML object\n   * @param {*} obj\n   */\n  function EZWrap(obj) {\n    _classCallCheck(this, EZWrap);\n\n    /**\n     * Returns the underlying object from the original XML tree\n     * @type {*}\n     */\n    this.raw = obj;\n  }\n  /**\n   * Custom Inspection for Node.js\n   * @param depth\n   * @param options\n   * @returns {*}\n   */\n\n\n  _createClass(EZWrap, [{\n    key: _Util$inspect$custom,\n    value: function value(depth, options) {\n      var _this = this;\n\n      var attributeString = Object.keys(this.raw.attributes).map(function (key) {\n        return \"\".concat(key, \"=\\\"\").concat(_this.raw.attributes[key], \"\\\"\");\n      }).join(' ');\n      var openTag = \"<\".concat(this.name).concat(attributeString ? ' ' + attributeString : '', \">\");\n      var body = this.raw.children.map(function (n) {\n        return \"  <\".concat(n.name, \" ... />\");\n      }).join('\\n') || this.raw.value && '  ' + this.raw.value || '';\n      return options.stylize(openTag + '\\n' + body + \"\\n</\".concat(this.name, \">\"));\n    } // noinspection JSMethodCanBeStatic\n\n    /**\n     * Returns whether the object is a EZWrapped object\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"isWrapped\",\n    get: function get() {\n      return true;\n    }\n    /**\n     * Gets the number of children contained in the node\n     * @returns {number}\n     */\n\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.raw.children.length;\n    }\n    /**\n     * Gets the node value\n     * @returns {string|null}\n     */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.raw.value || null;\n    }\n    /**\n     * Gets the node name\n     * @returns {string|null}\n     */\n\n  }, {\n    key: \"name\",\n    get: function get() {\n      return this.raw.name || null;\n    }\n    /**\n     * Gets the value of an attribute contained on the node\n     * @param {string} name\n     * @returns {string|null}\n     */\n\n  }, {\n    key: \"attr\",\n    value: function attr(name) {\n      return this.raw.attributes[name] || null;\n    }\n    /**\n     * Gets all children with the given name\n     * @param {string} name\n     * @returns {EZWrap}\n     */\n\n  }, {\n    key: \"all\",\n    value: function all(name) {\n      var children = this.raw.children.filter(function (n) {\n        return n.name === name;\n      });\n      return new EZWrap(EZWrap.getEmptyObject({\n        name: \"all-\".concat(name),\n        children: children\n      }));\n    }\n    /**\n     * Gets the first child with the given name\n     * @param {string} name\n     * @returns {EZWrap}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(name) {\n      var child = this.raw.children.find(function (n) {\n        return n.name === name;\n      });\n      return new EZWrap(child || EZWrap.getEmptyObject({\n        name: \"no-matches-for-\".concat(name)\n      }));\n    }\n    /**\n     * Similar to Array.find(node => boolean), where node is an EZWrapped instance of each child\n     * @param {function(EZWrap)} closure\n     * @returns {*}\n     */\n\n  }, {\n    key: \"find\",\n    value: function find(closure) {\n      return new EZWrap(this.raw.children.find(function (n) {\n        return closure(new EZWrap(n));\n      }) || EZWrap.getEmptyObject({\n        name: \"no-result-for-find\"\n      }));\n    }\n    /**\n     * Similar to Array.forEach(node => ...), where node is an EZWRapped instance of each child\n     * @param {function(EZWrap)} closure\n     */\n\n  }, {\n    key: \"forEach\",\n    value: function forEach(closure) {\n      this.raw.children.forEach(function (n) {\n        closure(new EZWrap(n));\n      });\n    }\n    /**\n     * Similar to Array.filter(node => boolean), where node is an EZWrapped instance of each child\n     * @param {function(EZWrap)} closure\n     * @returns {*}\n     */\n\n  }, {\n    key: \"filter\",\n    value: function filter(closure) {\n      return new EZWrap(EZWrap.getEmptyObject({\n        name: \"filtered-results\",\n        children: this.raw.children.filter(function (n) {\n          return closure(new EZWrap(n));\n        })\n      }));\n    }\n    /**\n     * Similar to Array.map(node => value), where node is an EZWrapped instance of each child\n     * @param closure\n     * @returns {*}\n     */\n\n  }, {\n    key: \"map\",\n    value: function map(closure) {\n      return this.raw.children.map(function (n) {\n        return closure(new EZWrap(n));\n      });\n    }\n  }], [{\n    key: \"getEmptyObject\",\n    value:\n    /**\n     * Creates an empty node\n     * @param children\n     * @param name\n     * @param attributes\n     * @param value\n     * @returns {{children: Array, name: string, attributes, value: string}}\n     */\n    function getEmptyObject() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$children = _ref.children,\n          children = _ref$children === void 0 ? [] : _ref$children,\n          _ref$name = _ref.name,\n          name = _ref$name === void 0 ? '' : _ref$name,\n          _ref$attributes = _ref.attributes,\n          attributes = _ref$attributes === void 0 ? {} : _ref$attributes,\n          _ref$value = _ref.value,\n          value = _ref$value === void 0 ? '' : _ref$value;\n\n      return {\n        name: name,\n        value: value,\n        attributes: attributes,\n        children: children\n      };\n    }\n  }]);\n\n  return EZWrap;\n}(Util.inspect.custom);\n\nmodule.exports = EZWrap;\n\n},{\"util\":\"util\"}]},{},[])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJFWldyYXAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxhLENBRUE7Ozs7Ozs7O0FBQ0EsSUFBSSxJQUFKOztBQUNBLElBQUksT0FBTyxNQUFQLEtBQWtCLFdBQXRCLEVBQW1DO0FBQy9CLEVBQUEsSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFELENBQWQ7QUFDSCxDQUZELE1BRU87QUFDSCxFQUFBLElBQUksR0FBRztBQUFFLElBQUEsT0FBTyxFQUFFO0FBQUUsTUFBQSxNQUFNLEVBQUU7QUFBVjtBQUFYLEdBQVA7QUFDSDtBQUVEO0FBQ0E7QUFDQTs7O0lBQ00sTTtBQWNGO0FBQ0o7QUFDQTtBQUNBO0FBQ0ksa0JBQVksR0FBWixFQUFpQjtBQUFBOztBQUViO0FBQ1I7QUFDQTtBQUNBO0FBQ1EsU0FBSyxHQUFMLEdBQVcsR0FBWDtBQUNIO0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztXQUNJLGVBQXNCLEtBQXRCLEVBQTZCLE9BQTdCLEVBQXNDO0FBQUE7O0FBRWxDLFVBQU0sZUFBZSxHQUFHLE1BQU0sQ0FBQyxJQUFQLENBQVksS0FBSyxHQUFMLENBQVMsVUFBckIsRUFBaUMsR0FBakMsQ0FBcUMsVUFBQSxHQUFHO0FBQUEseUJBQU8sR0FBUCxnQkFBZSxLQUFJLENBQUMsR0FBTCxDQUFTLFVBQVQsQ0FBb0IsR0FBcEIsQ0FBZjtBQUFBLE9BQXhDLEVBQW9GLElBQXBGLENBQXlGLEdBQXpGLENBQXhCO0FBQ0EsVUFBTSxPQUFPLGNBQU8sS0FBSyxJQUFaLFNBQW1CLGVBQWUsR0FBSSxNQUFJLGVBQVIsR0FBMkIsRUFBN0QsTUFBYjtBQUNBLFVBQU0sSUFBSSxHQUFHLEtBQUssR0FBTCxDQUFTLFFBQVQsQ0FBa0IsR0FBbEIsQ0FBc0IsVUFBQSxDQUFDO0FBQUEsNEJBQVUsQ0FBQyxDQUFDLElBQVo7QUFBQSxPQUF2QixFQUFrRCxJQUFsRCxDQUF1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QUFXLENBQVgsQ0FBRCxDQUFkO0FBQ0gsU0FGUztBQUYwQixPQUF0QixDQUFYLENBQVA7QUFNSDtBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7Ozs7V0FDSSxhQUFJLE9BQUosRUFBYTtBQUNULGFBQU8sS0FBSyxHQUFMLENBQVMsUUFBVCxDQUFrQixHQUFsQixDQUFzQixVQUFBLENBQUMsRUFBSTtBQUM5QixlQUFPLE9BQU8sQ0FBQyxJQUFJLE1BQUosQ0FBVyxDQUFYLENBQUQsQ0FBZDtBQUNILE9BRk0sQ0FBUDtBQUdIOzs7O0FBbEpEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDSSw4QkFBOEU7QUFBQSxxRkFBSixFQUFJO0FBQUEsK0JBQXRELFFBQXNEO0FBQUEsVUFBdEQsUUFBc0QsOEJBQTdDLEVBQTZDO0FBQUEsMkJBQXpDLElBQXlDO0FBQUEsVUFBekMsSUFBeUMsMEJBQXBDLEVBQW9DO0FBQUEsaUNBQWhDLFVBQWdDO0FBQUEsVUFBaEMsVUFBZ0MsZ0NBQXJCLEVBQXFCO0FBQUEsNEJBQWpCLEtBQWlCO0FBQUEsVUFBakIsS0FBaUIsMkJBQVgsRUFBVzs7QUFDMUUsYUFBTztBQUFFLFFBQUEsSUFBSSxFQUFKLElBQUY7QUFBUSxRQUFBLEtBQUssRUFBTCxLQUFSO0FBQWUsUUFBQSxVQUFVLEVBQVYsVUFBZjtBQUEyQixRQUFBLFFBQVEsRUFBUjtBQUEzQixPQUFQO0FBQ0g7Ozs7RUFxQkEsSUFBSSxDQUFDLE9BQUwsQ0FBYSxNOztBQXNIbEIsTUFBTSxDQUFDLE9BQVAsR0FBaUIsTUFBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gYnJvd3NlciBzaGltIHV0aWwgLSBub3QgbmVlZGVkIGZvciBicm93c2VyLCBkb24ndCBibG9hdFxubGV0IFV0aWw7XG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBVdGlsID0gcmVxdWlyZSgndXRpbCcpO1xufSBlbHNlIHtcbiAgICBVdGlsID0geyBpbnNwZWN0OiB7IGN1c3RvbTogJ19fY3VzdG9tSW5zcGVjdCcgfSB9XG59XG5cbi8qKlxuICogV3JhcHBlciBmb3IgYWNjZXNzaW5nIHBhcnNlZCBYTUwgb2JqZWN0c1xuICovXG5jbGFzcyBFWldyYXAge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBlbXB0eSBub2RlXG4gICAgICogQHBhcmFtIGNoaWxkcmVuXG4gICAgICogQHBhcmFtIG5hbWVcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlc1xuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHt7Y2hpbGRyZW46IEFycmF5LCBuYW1lOiBzdHJpbmcsIGF0dHJpYnV0ZXMsIHZhbHVlOiBzdHJpbmd9fVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRFbXB0eU9iamVjdCh7IGNoaWxkcmVuPVtdLCBuYW1lPScnLCBhdHRyaWJ1dGVzPXt9LCB2YWx1ZT0nJyB9ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHsgbmFtZSwgdmFsdWUsIGF0dHJpYnV0ZXMsIGNoaWxkcmVuIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB3cmFwcGVkIGluc3RhbmNlIG9mIGFuIHBhcnNlZCBYTUwgb2JqZWN0XG4gICAgICogQHBhcmFtIHsqfSBvYmpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvYmopIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyBvYmplY3QgZnJvbSB0aGUgb3JpZ2luYWwgWE1MIHRyZWVcbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhdyA9IG9iajtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDdXN0b20gSW5zcGVjdGlvbiBmb3IgTm9kZS5qc1xuICAgICAqIEBwYXJhbSBkZXB0aFxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgW1V0aWwuaW5zcGVjdC5jdXN0b21dKGRlcHRoLCBvcHRpb25zKSB7XG5cbiAgICAgICAgY29uc3QgYXR0cmlidXRlU3RyaW5nID0gT2JqZWN0LmtleXModGhpcy5yYXcuYXR0cmlidXRlcykubWFwKGtleSA9PiBgJHtrZXl9PVwiJHt0aGlzLnJhdy5hdHRyaWJ1dGVzW2tleV19XCJgKS5qb2luKCcgJyk7XG4gICAgICAgIGNvbnN0IG9wZW5UYWcgPSBgPCR7dGhpcy5uYW1lfSR7YXR0cmlidXRlU3RyaW5nID8gKCcgJythdHRyaWJ1dGVTdHJpbmcpIDogJyd9PmA7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLnJhdy5jaGlsZHJlbi5tYXAobiA9PiBgICA8JHtuLm5hbWV9IC4uLiAvPmApLmpvaW4oJ1xcbicpIHx8ICh0aGlzLnJhdy52YWx1ZSAmJiAoJyAgJyArIHRoaXMucmF3LnZhbHVlKSkgfHwgJyc7XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuc3R5bGl6ZShvcGVuVGFnICsgJ1xcbicgKyBib2R5ICsgYFxcbjwvJHt0aGlzLm5hbWV9PmApO1xuICAgIH1cblxuICAgIC8vIG5vaW5zcGVjdGlvbiBKU01ldGhvZENhbkJlU3RhdGljXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBvYmplY3QgaXMgYSBFWldyYXBwZWQgb2JqZWN0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGlzV3JhcHBlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGNoaWxkcmVuIGNvbnRhaW5lZCBpbiB0aGUgbm9kZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LmNoaWxkcmVuLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBub2RlIHZhbHVlXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LnZhbHVlIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbm9kZSBuYW1lXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcubmFtZSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZSBjb250YWluZWQgb24gdGhlIG5vZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAgICAgKi9cbiAgICBhdHRyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3LmF0dHJpYnV0ZXNbbmFtZV0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBjaGlsZHJlbiB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiBAcmV0dXJucyB7RVpXcmFwfVxuICAgICAqL1xuICAgIGFsbChuYW1lKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5yYXcuY2hpbGRyZW4uZmlsdGVyKG4gPT4gbi5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFWldyYXAoRVpXcmFwLmdldEVtcHR5T2JqZWN0KHsgbmFtZTogYGFsbC0ke25hbWV9YCwgY2hpbGRyZW4gfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGNoaWxkIHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEByZXR1cm5zIHtFWldyYXB9XG4gICAgICovXG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLnJhdy5jaGlsZHJlbi5maW5kKG4gPT4gbi5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFWldyYXAoY2hpbGQgfHwgRVpXcmFwLmdldEVtcHR5T2JqZWN0KHsgbmFtZTogYG5vLW1hdGNoZXMtZm9yLSR7bmFtZX1gfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpbWlsYXIgdG8gQXJyYXkuZmluZChub2RlID0+IGJvb2xlYW4pLCB3aGVyZSBub2RlIGlzIGFuIEVaV3JhcHBlZCBpbnN0YW5jZSBvZiBlYWNoIGNoaWxkXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihFWldyYXApfSBjbG9zdXJlXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZmluZChjbG9zdXJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRVpXcmFwKHRoaXMucmF3LmNoaWxkcmVuLmZpbmQobiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2xvc3VyZShuZXcgRVpXcmFwKG4pKTtcbiAgICAgICAgfSkgfHwgRVpXcmFwLmdldEVtcHR5T2JqZWN0KHsgbmFtZTogYG5vLXJlc3VsdC1mb3ItZmluZGB9KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltaWxhciB0byBBcnJheS5mb3JFYWNoKG5vZGUgPT4gLi4uKSwgd2hlcmUgbm9kZSBpcyBhbiBFWldSYXBwZWQgaW5zdGFuY2Ugb2YgZWFjaCBjaGlsZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oRVpXcmFwKX0gY2xvc3VyZVxuICAgICAqL1xuICAgIGZvckVhY2goY2xvc3VyZSkge1xuICAgICAgICB0aGlzLnJhdy5jaGlsZHJlbi5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgICAgY2xvc3VyZShuZXcgRVpXcmFwKG4pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltaWxhciB0byBBcnJheS5maWx0ZXIobm9kZSA9PiBib29sZWFuKSwgd2hlcmUgbm9kZSBpcyBhbiBFWldyYXBwZWQgaW5zdGFuY2Ugb2YgZWFjaCBjaGlsZFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oRVpXcmFwKX0gY2xvc3VyZVxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZpbHRlcihjbG9zdXJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRVpXcmFwKEVaV3JhcC5nZXRFbXB0eU9iamVjdCh7XG4gICAgICAgICAgICBuYW1lOiBgZmlsdGVyZWQtcmVzdWx0c2AsXG4gICAgICAgICAgICBjaGlsZHJlbjogdGhpcy5yYXcuY2hpbGRyZW4uZmlsdGVyKG4gPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbG9zdXJlKG5ldyBFWldyYXAobikpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpbWlsYXIgdG8gQXJyYXkubWFwKG5vZGUgPT4gdmFsdWUpLCB3aGVyZSBub2RlIGlzIGFuIEVaV3JhcHBlZCBpbnN0YW5jZSBvZiBlYWNoIGNoaWxkXG4gICAgICogQHBhcmFtIGNsb3N1cmVcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBtYXAoY2xvc3VyZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcuY2hpbGRyZW4ubWFwKG4gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNsb3N1cmUobmV3IEVaV3JhcChuKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFWldyYXA7Il19\n"]}