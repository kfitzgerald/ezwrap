{"version":3,"sources":["ezwrap.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","Util","window","inspect","custom","EZWrap","obj","instance","TypeError","_classCallCheck","this","raw","value","_ref","arguments","undefined","_ref$children","children","_ref$name","name","_ref$attributes","attributes","_ref$value","depth","options","_this","attributeString","keys","map","concat","join","openTag","body","stylize","filter","getEmptyObject","find","closure","forEach","get","util"],"mappings":"CAAY,SAASA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAE,mBAAmBC,SAASA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,GAAG,CAACS,QAAQ,IAAIb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAQ,IAAI,IAAIL,EAAE,mBAAmBD,SAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAA7b,CAA4c,CAACa,EAAE,CAAC,SAAST,EAAQU,EAAOJ,GACxe,aAIA,SAASK,EAAkBC,EAAQC,GAAS,IAAK,IAAIhB,EAAI,EAAGA,EAAIgB,EAAML,OAAQX,IAAK,CAAE,IAAIiB,EAAaD,EAAMhB,GAAIiB,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeP,EAAQE,EAAWM,IAAKN,IAE7S,SAASO,EAAaC,EAAaC,EAAYC,GAAmJ,OAAhID,GAAYZ,EAAkBW,EAAYG,UAAWF,GAAiBC,GAAab,EAAkBW,EAAaE,GAAqBF,EAEzM,IAAII,EAGFA,EADoB,oBAAXC,OACF3B,EAAQ,QAER,CACL4B,QAAS,CACPC,OAAQ,oBASd,IAAIC,EAEJ,WAqCE,SAASA,EAAOC,IA7DlB,SAAyBC,EAAUV,GAAe,KAAMU,aAAoBV,GAAgB,MAAM,IAAIW,UAAU,qCA8D5GC,CAAgBC,KAAML,GAMtBK,KAAKC,IAAML,EAuKb,OAlNAV,EAAaS,EAAQ,KAAM,CAAC,CAC1BV,IAAK,iBAULiB,MAAO,SAAA,GACL,IAAIC,EAA0B,EAAnBC,UAAU/B,aAA+BgC,IAD/C,EAAA,EAC0E,GAC3EC,EAAgBH,EAAKI,SACrBA,OAA6B,IAAlBD,EAA2B,GAAKA,EAC3CE,EAAYL,EAAKM,KACjBA,OAAqB,IAAdD,EAAuB,GAAKA,EACnCE,EAAkBP,EAAKQ,WACvBA,OAAiC,IAApBD,EAA6B,GAAKA,EAC/CE,EAAaT,EAAKD,MAGtB,MAAO,CACLO,KAAMA,EACNP,WAJyB,IAAfU,EAAwB,GAAKA,EAKvCD,WAAYA,EACZJ,SAAUA,OA2BhBrB,EAAaS,EAAQ,CAAC,CACpBV,IAAKM,EAAKE,QAAQC,OAClBQ,MAAO,SAAeW,EAAOC,GAC3B,IAAIC,EAAQf,KAERgB,EAAkBjC,OAAOkC,KAAKjB,KAAKC,IAAIU,YAAYO,IAAI,SAAUjC,GACnE,MAAO,GAAGkC,OAAOlC,EAAK,MAAOkC,OAAOJ,EAAMd,IAAIU,WAAW1B,GAAM,OAC9DmC,KAAK,KACJC,EAAU,IAAIF,OAAOnB,KAAKS,MAAMU,OAAOH,EAAkB,IAAMA,EAAkB,GAAI,KACrFM,EAAOtB,KAAKC,IAAIM,SAASW,IAAI,SAAU3D,GACzC,MAAO,MAAM4D,OAAO5D,EAAEkD,KAAM,aAC3BW,KAAK,OAASpB,KAAKC,IAAIC,OAAS,KAAOF,KAAKC,IAAIC,OAAS,GAC5D,OAAOY,EAAQS,QAAQF,EAAU,KAAOC,EAAO,OAAOH,OAAOnB,KAAKS,KAAM,QAQzE,CACDxB,IAAK,OAOLiB,MAAO,SAAcO,GACnB,OAAOT,KAAKC,IAAIU,WAAWF,IAAS,OAQrC,CACDxB,IAAK,MACLiB,MAAO,SAAaO,GAClB,IAAIF,EAAWP,KAAKC,IAAIM,SAASiB,OAAO,SAAUjE,GAChD,OAAOA,EAAEkD,OAASA,IAEpB,OAAO,IAAId,EAAOA,EAAO8B,eAAe,CACtChB,KAAM,OAAOU,OAAOV,GACpBF,SAAUA,OASb,CACDtB,IAAK,MACLiB,MAAO,SAAaO,GAIlB,OAAO,IAAId,EAHCK,KAAKC,IAAIM,SAASmB,KAAK,SAAUnE,GAC3C,OAAOA,EAAEkD,OAASA,KAEOd,EAAO8B,eAAe,CAC/ChB,KAAM,kBAAkBU,OAAOV,QASlC,CACDxB,IAAK,OACLiB,MAAO,SAAcyB,GACnB,OAAO,IAAIhC,EAAOK,KAAKC,IAAIM,SAASmB,KAAK,SAAUnE,GACjD,OAAOoE,EAAQ,IAAIhC,EAAOpC,OACtBoC,EAAO8B,eAAe,CAC1BhB,KAAM,0BAQT,CACDxB,IAAK,UACLiB,MAAO,SAAiByB,GACtB3B,KAAKC,IAAIM,SAASqB,QAAQ,SAAUrE,GAClCoE,EAAQ,IAAIhC,EAAOpC,QAStB,CACD0B,IAAK,SACLiB,MAAO,SAAgByB,GACrB,OAAO,IAAIhC,EAAOA,EAAO8B,eAAe,CACtChB,KAAM,mBACNF,SAAUP,KAAKC,IAAIM,SAASiB,OAAO,SAAUjE,GAC3C,OAAOoE,EAAQ,IAAIhC,EAAOpC,WAU/B,CACD0B,IAAK,MACLiB,MAAO,SAAayB,GAClB,OAAO3B,KAAKC,IAAIM,SAASW,IAAI,SAAU3D,GACrC,OAAOoE,EAAQ,IAAIhC,EAAOpC,QAG7B,CACD0B,IAAK,YACL4C,IAAK,WACH,OAAO,IAOR,CACD5C,IAAK,SACL4C,IAAK,WACH,OAAO7B,KAAKC,IAAIM,SAASlC,SAO1B,CACDY,IAAK,QACL4C,IAAK,WACH,OAAO7B,KAAKC,IAAIC,OAAS,OAO1B,CACDjB,IAAK,OACL4C,IAAK,WACH,OAAO7B,KAAKC,IAAIQ,MAAQ,SAIrBd,EAnNT,GAsNApB,EAAOJ,QAAUwB,GAEf,CAACmC,KAAO,UAAU,GAAG,CAAC","file":"ezwrap.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\"; // browser shim util - not needed for browser, don't bloat\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Util;\n\nif (typeof window === 'undefined') {\n  Util = require('util');\n} else {\n  Util = {\n    inspect: {\n      custom: '__customInspect'\n    }\n  };\n}\n/**\n * Wrapper for accessing parsed XML objects\n */\n\n\nvar EZWrap =\n/*#__PURE__*/\nfunction () {\n  _createClass(EZWrap, null, [{\n    key: \"getEmptyObject\",\n\n    /**\n     * Creates an empty node\n     * @param children\n     * @param name\n     * @param attributes\n     * @param value\n     * @returns {{children: Array, name: string, attributes, value: string}}\n     */\n    value: function getEmptyObject() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$children = _ref.children,\n          children = _ref$children === void 0 ? [] : _ref$children,\n          _ref$name = _ref.name,\n          name = _ref$name === void 0 ? '' : _ref$name,\n          _ref$attributes = _ref.attributes,\n          attributes = _ref$attributes === void 0 ? {} : _ref$attributes,\n          _ref$value = _ref.value,\n          value = _ref$value === void 0 ? '' : _ref$value;\n\n      return {\n        name: name,\n        value: value,\n        attributes: attributes,\n        children: children\n      };\n    }\n    /**\n     * Creates a new wrapped instance of an parsed XML object\n     * @param {*} obj\n     */\n\n  }]);\n\n  function EZWrap(obj) {\n    _classCallCheck(this, EZWrap);\n\n    /**\n     * Returns the underlying object from the original XML tree\n     * @type {*}\n     */\n    this.raw = obj;\n  }\n  /**\n   * Custom Inspection for Node.js\n   * @param depth\n   * @param options\n   * @returns {*}\n   */\n\n\n  _createClass(EZWrap, [{\n    key: Util.inspect.custom,\n    value: function value(depth, options) {\n      var _this = this;\n\n      var attributeString = Object.keys(this.raw.attributes).map(function (key) {\n        return \"\".concat(key, \"=\\\"\").concat(_this.raw.attributes[key], \"\\\"\");\n      }).join(' ');\n      var openTag = \"<\".concat(this.name).concat(attributeString ? ' ' + attributeString : '', \">\");\n      var body = this.raw.children.map(function (n) {\n        return \"  <\".concat(n.name, \" ... />\");\n      }).join('\\n') || this.raw.value && '  ' + this.raw.value || '';\n      return options.stylize(openTag + '\\n' + body + \"\\n</\".concat(this.name, \">\"));\n    } // noinspection JSMethodCanBeStatic\n\n    /**\n     * Returns whether the object is a EZWrapped object\n     * @returns {boolean}\n     */\n\n  }, {\n    key: \"attr\",\n\n    /**\n     * Gets the value of an attribute contained on the node\n     * @param {string} name\n     * @returns {string|null}\n     */\n    value: function attr(name) {\n      return this.raw.attributes[name] || null;\n    }\n    /**\n     * Gets all children with the given name\n     * @param {string} name\n     * @returns {EZWrap}\n     */\n\n  }, {\n    key: \"all\",\n    value: function all(name) {\n      var children = this.raw.children.filter(function (n) {\n        return n.name === name;\n      });\n      return new EZWrap(EZWrap.getEmptyObject({\n        name: \"all-\".concat(name),\n        children: children\n      }));\n    }\n    /**\n     * Gets the first child with the given name\n     * @param {string} name\n     * @returns {EZWrap}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(name) {\n      var child = this.raw.children.find(function (n) {\n        return n.name === name;\n      });\n      return new EZWrap(child || EZWrap.getEmptyObject({\n        name: \"no-matches-for-\".concat(name)\n      }));\n    }\n    /**\n     * Similar to Array.find(node => boolean), where node is an EZWrapped instance of each child\n     * @param {function(EZWrap)} closure\n     * @returns {*}\n     */\n\n  }, {\n    key: \"find\",\n    value: function find(closure) {\n      return new EZWrap(this.raw.children.find(function (n) {\n        return closure(new EZWrap(n));\n      }) || EZWrap.getEmptyObject({\n        name: \"no-result-for-find\"\n      }));\n    }\n    /**\n     * Similar to Array.forEach(node => ...), where node is an EZWRapped instance of each child\n     * @param {function(EZWrap)} closure\n     */\n\n  }, {\n    key: \"forEach\",\n    value: function forEach(closure) {\n      this.raw.children.forEach(function (n) {\n        closure(new EZWrap(n));\n      });\n    }\n    /**\n     * Similar to Array.filter(node => boolean), where node is an EZWrapped instance of each child\n     * @param {function(EZWrap)} closure\n     * @returns {*}\n     */\n\n  }, {\n    key: \"filter\",\n    value: function filter(closure) {\n      return new EZWrap(EZWrap.getEmptyObject({\n        name: \"filtered-results\",\n        children: this.raw.children.filter(function (n) {\n          return closure(new EZWrap(n));\n        })\n      }));\n    }\n    /**\n     * Similar to Array.map(node => value), where node is an EZWrapped instance of each child\n     * @param closure\n     * @returns {*}\n     */\n\n  }, {\n    key: \"map\",\n    value: function map(closure) {\n      return this.raw.children.map(function (n) {\n        return closure(new EZWrap(n));\n      });\n    }\n  }, {\n    key: \"isWrapped\",\n    get: function get() {\n      return true;\n    }\n    /**\n     * Gets the number of children contained in the node\n     * @returns {number}\n     */\n\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.raw.children.length;\n    }\n    /**\n     * Gets the node value\n     * @returns {string|null}\n     */\n\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this.raw.value || null;\n    }\n    /**\n     * Gets the node name\n     * @returns {string|null}\n     */\n\n  }, {\n    key: \"name\",\n    get: function get() {\n      return this.raw.name || null;\n    }\n  }]);\n\n  return EZWrap;\n}();\n\nmodule.exports = EZWrap;\n\n},{\"util\":\"util\"}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJFWldyYXAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxhLENBRUE7Ozs7Ozs7O0FBQ0EsSUFBSSxJQUFKOztBQUNBLElBQUksT0FBTyxNQUFQLEtBQWtCLFdBQXRCLEVBQW1DO0FBQy9CLEVBQUEsSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFELENBQWQ7QUFDSCxDQUZELE1BRU87QUFDSCxFQUFBLElBQUksR0FBRztBQUFFLElBQUEsT0FBTyxFQUFFO0FBQUUsTUFBQSxNQUFNLEVBQUU7QUFBVjtBQUFYLEdBQVA7QUFDSDtBQUVEOzs7OztJQUdNLE07Ozs7OztBQUVGOzs7Ozs7OztxQ0FROEU7QUFBQSxxRkFBSixFQUFJO0FBQUEsK0JBQXRELFFBQXNEO0FBQUEsVUFBdEQsUUFBc0QsOEJBQTdDLEVBQTZDO0FBQUEsMkJBQXpDLElBQXlDO0FBQUEsVUFBekMsSUFBeUMsMEJBQXBDLEVBQW9DO0FBQUEsaUNBQWhDLFVBQWdDO0FBQUEsVUFBaEMsVUFBZ0MsZ0NBQXJCLEVBQXFCO0FBQUEsNEJBQWpCLEtBQWlCO0FBQUEsVUFBakIsS0FBaUIsMkJBQVgsRUFBVzs7QUFDMUUsYUFBTztBQUFFLFFBQUEsSUFBSSxFQUFKLElBQUY7QUFBUSxRQUFBLEtBQUssRUFBTCxLQUFSO0FBQWUsUUFBQSxVQUFVLEVBQVYsVUFBZjtBQUEyQixRQUFBLFFBQVEsRUFBUjtBQUEzQixPQUFQO0FBQ0g7QUFFRDs7Ozs7OztBQUlBLGtCQUFZLEdBQVosRUFBaUI7QUFBQTs7QUFFYjs7OztBQUlBLFNBQUssR0FBTCxHQUFXLEdBQVg7QUFDSDtBQUVEOzs7Ozs7Ozs7U0FNQyxJQUFJLENBQUMsT0FBTCxDQUFhLE07MEJBQVEsSyxFQUFPLE8sRUFBUztBQUFBOztBQUVsQyxVQUFNLGVBQWUsR0FBRyxNQUFNLENBQUMsSUFBUCxDQUFZLEtBQUssR0FBTCxDQUFTLFVBQXJCLEVBQWlDLEdBQWpDLENBQXFDLFVBQUEsR0FBRztBQUFBLHlCQUFPLEdBQVAsZ0JBQWUsS0FBSSxDQUFDLEdBQUwsQ0FBUyxVQUFULENBQW9CLEdBQXBCLENBQWY7QUFBQSxPQUF4QyxFQUFvRixJQUFwRixDQUF5RixHQUF6RixDQUF4QjtBQUNBLFVBQU0sT0FBTyxjQUFPLEtBQUssSUFBWixTQUFtQixlQUFlLEdBQUksTUFBSSxlQUFSLEdBQTJCLEVBQTdELE1BQWI7QUFDQSxVQUFNLElBQUksR0FBRyxLQUFLLEdBQUwsQ0FBUyxRQUFULENBQWtCLEdBQWxCLENBQXNCLFVBQUEsQ0FBQztBQUFBLDRCQUFVLENBQUMsQ0FBQyxJQUFaO0FBQUEsT0FBdkIsRUFBa0QsSUFBbEQsQ0FBdUQsSUFBdkQsS0FBaUUsS0FBSyxHQUFMLENBQVMsS0FBVCxJQUFtQixPQUFPLEtBQUssR0FBTCxDQUFTLEtBQXBHLElBQStHLEVBQTVIO0FBRUEsYUFBTyxPQUFPLENBQUMsT0FBUixDQUFnQixPQUFPLEdBQUcsSUFBVixHQUFpQixJQUFqQixpQkFBK0IsS0FBSyxJQUFwQyxNQUFoQixDQUFQO0FBQ0gsSyxDQUVEOztBQUNBOzs7Ozs7OztBQWdDQTs7Ozs7eUJBS0ssSSxFQUFNO0FBQ1AsYUFBTyxLQUFLLEdBQUwsQ0FBUyxVQUFULENBQW9CLElBQXBCLEtBQTZCLElBQXBDO0FBQ0g7QUFFRDs7Ozs7Ozs7d0JBS0ksSSxFQUFNO0FBQ04sVUFBTSxRQUFRLEdBQUcsS0FBSyxHQUFMLENBQVMsUUFBVCxDQUFrQixNQUFsQixDQUF5QixVQUFBLENBQUM7QUFBQSxlQUFJLENBQUMsQ0FBQyxJQUFGLEtBQVcsSUFBZjtBQUFBLE9BQTFCLENBQWpCO0FBQ0EsYUFBTyxJQUFJLE1BQUosQ0FBVyxNQUFNLENBQUMsY0FBUCxDQUFzQjtBQUFFLFFBQUEsSUFBSSxnQkFBUyxJQUFULENBQU47QUFBdUIsUUFBQSxRQUFRLEVBQVI7QUFBdkIsT0FBdEIsQ0FBWCxDQUFQO0FBQ0g7QUFFRDs7Ozs7Ozs7d0JBS0ksSSxFQUFNO0FBQ04sVUFBTSxLQUFLLEdBQUcsS0FBSyxHQUFMLENBQVMsUUFBVCxDQUFrQixJQUFsQixDQUF1QixVQUFBLENBQUM7QUFBQSxlQUFJLENBQUMsQ0FBQyxJQUFGLEtBQVcsSUFBZjtBQUFBLE9BQXhCLENBQWQ7QUFDQSxhQUFPLElBQUksTUFBSixDQUFXLEtBQUssSUFBSSxNQUFNLENBQUMsY0FBUCxDQUFzQjtBQUFFLFFBQUEsSUFBSSwyQkFBb0IsSUFBcEI7QUFBTixPQUF0QixDQUFwQixDQUFQO0FBQ0g7QUFFRDs7Ozs7Ozs7eUJBS0ssTyxFQUFTO0FBQ1YsYUFBTyxJQUFJLE1BQUosQ0FBVyxLQUFLLEdBQUwsQ0FBUyxRQUFULENBQWtCLElBQWxCLENBQXVCLFVBQUEsQ0FBQyxFQUFJO0FBQzFDLGVBQU8sT0FBTyxDQUFDLElBQUksTUFBSixDQUFXLENBQVgsQ0FBRCxDQUFkO0FBQ0gsT0FGaUIsS0FFWixNQUFNLENBQUMsY0FBUCxDQUFzQjtBQUFFLFFBQUEsSUFBSTtBQUFOLE9BQXRCLENBRkMsQ0FBUDtBQUdIO0FBRUQ7Ozs7Ozs7NEJBSVEsTyxFQUFTO0FBQ2IsV0FBSyxHQUFMLENBQVMsUUFBVCxDQUFrQixPQUFsQixDQUEwQixVQUFBLENBQUMsRUFBSTtBQUMzQixRQUFBLE9BQU8sQ0FBQyxJQUFJLE1BQUosQ0FBVyxDQUFYLENBQUQsQ0FBUDtBQUNILE9BRkQ7QUFHSDtBQUVEOzs7Ozs7OzsyQkFLTyxPLEVBQVM7QUFDWixhQUFPLElBQUksTUFBSixDQUFXLE1BQU0sQ0FBQyxjQUFQLENBQXNCO0FBQ3BDLFFBQUEsSUFBSSxvQkFEZ0M7QUFFcEMsUUFBQSxRQUFRLEVBQUUsS0FBSyxHQUFMLENBQVMsUUFBVCxDQUFrQixNQUFsQixDQUF5QixVQUFBLENBQUMsRUFBSTtBQUNwQyxpQkFBTyxPQUFPLENBQUMsSUFBSSxNQUFKLENBQVcsQ0FBWCxDQUFELENBQWQ7QUFDSCxTQUZTO0FBRjBCLE9BQXRCLENBQVgsQ0FBUDtBQU1IO0FBRUQ7Ozs7Ozs7O3dCQUtJLE8sRUFBUztBQUNULGFBQU8sS0FBSyxHQUFMLENBQVMsUUFBVCxDQUFrQixHQUFsQixDQUFzQixVQUFBLENBQUMsRUFBSTtBQUM5QixlQUFPLE9BQU8sQ0FBQyxJQUFJLE1BQUosQ0FBVyxDQUFYLENBQUQsQ0FBZDtBQUNILE9BRk0sQ0FBUDtBQUdIOzs7d0JBckdlO0FBQ1osYUFBTyxJQUFQO0FBQ0g7QUFFRDs7Ozs7Ozt3QkFJYTtBQUNULGFBQU8sS0FBSyxHQUFMLENBQVMsUUFBVCxDQUFrQixNQUF6QjtBQUNIO0FBRUQ7Ozs7Ozs7d0JBSVk7QUFDUixhQUFPLEtBQUssR0FBTCxDQUFTLEtBQVQsSUFBa0IsSUFBekI7QUFDSDtBQUVEOzs7Ozs7O3dCQUlXO0FBQ1AsYUFBTyxLQUFLLEdBQUwsQ0FBUyxJQUFULElBQWlCLElBQXhCO0FBQ0g7Ozs7OztBQThFTCxNQUFNLENBQUMsT0FBUCxHQUFpQixNQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyBicm93c2VyIHNoaW0gdXRpbCAtIG5vdCBuZWVkZWQgZm9yIGJyb3dzZXIsIGRvbid0IGJsb2F0XG5sZXQgVXRpbDtcbmlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIFV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG59IGVsc2Uge1xuICAgIFV0aWwgPSB7IGluc3BlY3Q6IHsgY3VzdG9tOiAnX19jdXN0b21JbnNwZWN0JyB9IH1cbn1cblxuLyoqXG4gKiBXcmFwcGVyIGZvciBhY2Nlc3NpbmcgcGFyc2VkIFhNTCBvYmplY3RzXG4gKi9cbmNsYXNzIEVaV3JhcCB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVtcHR5IG5vZGVcbiAgICAgKiBAcGFyYW0gY2hpbGRyZW5cbiAgICAgKiBAcGFyYW0gbmFtZVxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHJldHVybnMge3tjaGlsZHJlbjogQXJyYXksIG5hbWU6IHN0cmluZywgYXR0cmlidXRlcywgdmFsdWU6IHN0cmluZ319XG4gICAgICovXG4gICAgc3RhdGljIGdldEVtcHR5T2JqZWN0KHsgY2hpbGRyZW49W10sIG5hbWU9JycsIGF0dHJpYnV0ZXM9e30sIHZhbHVlPScnIH0gPSB7fSkge1xuICAgICAgICByZXR1cm4geyBuYW1lLCB2YWx1ZSwgYXR0cmlidXRlcywgY2hpbGRyZW4gfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHdyYXBwZWQgaW5zdGFuY2Ugb2YgYW4gcGFyc2VkIFhNTCBvYmplY3RcbiAgICAgKiBAcGFyYW0geyp9IG9ialxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9iaikge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIG9iamVjdCBmcm9tIHRoZSBvcmlnaW5hbCBYTUwgdHJlZVxuICAgICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmF3ID0gb2JqO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEN1c3RvbSBJbnNwZWN0aW9uIGZvciBOb2RlLmpzXG4gICAgICogQHBhcmFtIGRlcHRoXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBbVXRpbC5pbnNwZWN0LmN1c3RvbV0oZGVwdGgsIG9wdGlvbnMpIHtcblxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVTdHJpbmcgPSBPYmplY3Qua2V5cyh0aGlzLnJhdy5hdHRyaWJ1dGVzKS5tYXAoa2V5ID0+IGAke2tleX09XCIke3RoaXMucmF3LmF0dHJpYnV0ZXNba2V5XX1cImApLmpvaW4oJyAnKTtcbiAgICAgICAgY29uc3Qgb3BlblRhZyA9IGA8JHt0aGlzLm5hbWV9JHthdHRyaWJ1dGVTdHJpbmcgPyAoJyAnK2F0dHJpYnV0ZVN0cmluZykgOiAnJ30+YDtcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMucmF3LmNoaWxkcmVuLm1hcChuID0+IGAgIDwke24ubmFtZX0gLi4uIC8+YCkuam9pbignXFxuJykgfHwgKHRoaXMucmF3LnZhbHVlICYmICgnICAnICsgdGhpcy5yYXcudmFsdWUpKSB8fCAnJztcblxuICAgICAgICByZXR1cm4gb3B0aW9ucy5zdHlsaXplKG9wZW5UYWcgKyAnXFxuJyArIGJvZHkgKyBgXFxuPC8ke3RoaXMubmFtZX0+YCk7XG4gICAgfVxuXG4gICAgLy8gbm9pbnNwZWN0aW9uIEpTTWV0aG9kQ2FuQmVTdGF0aWNcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIG9iamVjdCBpcyBhIEVaV3JhcHBlZCBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNXcmFwcGVkKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgY2hpbGRyZW4gY29udGFpbmVkIGluIHRoZSBub2RlXG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcuY2hpbGRyZW4ubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5vZGUgdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcudmFsdWUgfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBub2RlIG5hbWVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5uYW1lIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgb2YgYW4gYXR0cmlidXRlIGNvbnRhaW5lZCBvbiB0aGUgbm9kZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIGF0dHIobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcuYXR0cmlidXRlc1tuYW1lXSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGNoaWxkcmVuIHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEByZXR1cm5zIHtFWldyYXB9XG4gICAgICovXG4gICAgYWxsKG5hbWUpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLnJhdy5jaGlsZHJlbi5maWx0ZXIobiA9PiBuLm5hbWUgPT09IG5hbWUpO1xuICAgICAgICByZXR1cm4gbmV3IEVaV3JhcChFWldyYXAuZ2V0RW1wdHlPYmplY3QoeyBuYW1lOiBgYWxsLSR7bmFtZX1gLCBjaGlsZHJlbiB9KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgY2hpbGQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybnMge0VaV3JhcH1cbiAgICAgKi9cbiAgICBnZXQobmFtZSkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMucmF3LmNoaWxkcmVuLmZpbmQobiA9PiBuLm5hbWUgPT09IG5hbWUpO1xuICAgICAgICByZXR1cm4gbmV3IEVaV3JhcChjaGlsZCB8fCBFWldyYXAuZ2V0RW1wdHlPYmplY3QoeyBuYW1lOiBgbm8tbWF0Y2hlcy1mb3ItJHtuYW1lfWB9KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltaWxhciB0byBBcnJheS5maW5kKG5vZGUgPT4gYm9vbGVhbiksIHdoZXJlIG5vZGUgaXMgYW4gRVpXcmFwcGVkIGluc3RhbmNlIG9mIGVhY2ggY2hpbGRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKEVaV3JhcCl9IGNsb3N1cmVcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmaW5kKGNsb3N1cmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFWldyYXAodGhpcy5yYXcuY2hpbGRyZW4uZmluZChuID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjbG9zdXJlKG5ldyBFWldyYXAobikpO1xuICAgICAgICB9KSB8fCBFWldyYXAuZ2V0RW1wdHlPYmplY3QoeyBuYW1lOiBgbm8tcmVzdWx0LWZvci1maW5kYH0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaW1pbGFyIHRvIEFycmF5LmZvckVhY2gobm9kZSA9PiAuLi4pLCB3aGVyZSBub2RlIGlzIGFuIEVaV1JhcHBlZCBpbnN0YW5jZSBvZiBlYWNoIGNoaWxkXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihFWldyYXApfSBjbG9zdXJlXG4gICAgICovXG4gICAgZm9yRWFjaChjbG9zdXJlKSB7XG4gICAgICAgIHRoaXMucmF3LmNoaWxkcmVuLmZvckVhY2gobiA9PiB7XG4gICAgICAgICAgICBjbG9zdXJlKG5ldyBFWldyYXAobikpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaW1pbGFyIHRvIEFycmF5LmZpbHRlcihub2RlID0+IGJvb2xlYW4pLCB3aGVyZSBub2RlIGlzIGFuIEVaV3JhcHBlZCBpbnN0YW5jZSBvZiBlYWNoIGNoaWxkXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihFWldyYXApfSBjbG9zdXJlXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZmlsdGVyKGNsb3N1cmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFWldyYXAoRVpXcmFwLmdldEVtcHR5T2JqZWN0KHtcbiAgICAgICAgICAgIG5hbWU6IGBmaWx0ZXJlZC1yZXN1bHRzYCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiB0aGlzLnJhdy5jaGlsZHJlbi5maWx0ZXIobiA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb3N1cmUobmV3IEVaV3JhcChuKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltaWxhciB0byBBcnJheS5tYXAobm9kZSA9PiB2YWx1ZSksIHdoZXJlIG5vZGUgaXMgYW4gRVpXcmFwcGVkIGluc3RhbmNlIG9mIGVhY2ggY2hpbGRcbiAgICAgKiBAcGFyYW0gY2xvc3VyZVxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIG1hcChjbG9zdXJlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdy5jaGlsZHJlbi5tYXAobiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2xvc3VyZShuZXcgRVpXcmFwKG4pKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEVaV3JhcDsiXX0=\n"]}